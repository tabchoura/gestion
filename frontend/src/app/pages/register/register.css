/* ===== Variables ===== */
:root{
  --primary:#4285f4; --primary-dark:#1a73e8; --primary-light:#7baaf7;
  --secondary:#f8fafc; --accent:#10b981;
  --text:#1f2937; --text-light:#6b7280; --text-muted:#9ca3af; --white:#fff;
  --background:#f8fafc; --surface:rgba(255,255,255,.95);
  --error:#ef4444; --success:#10b981;
  --bg-gradient:linear-gradient(135deg,#e8f3ff 0%,#f0f9ff 25%,#fff 50%,#f0f9ff 75%,#e8f3ff 100%);
  --hero-overlay:linear-gradient(135deg,rgba(66,133,244,.08) 0%,rgba(255,255,255,.05) 100%);
  --shadow-sm:0 1px 2px rgba(0,0,0,.05);
  --shadow-xl:0 25px 50px -12px rgba(0,0,0,.25);
  --shadow-blue:0 4px 14px rgba(66,133,244,.15);
  --border-radius:12px; --border-radius-lg:16px;
  --transition:all .2s cubic-bezier(.4,0,.2,1); --transition-slow:all .3s cubic-bezier(.4,0,.2,1);
}

/* ===== Scope composant + background ===== */
:host{
  font-family: Inter, system-ui, -apple-system, Segoe UI, sans-serif;

  color:var(--text); 
  font-size:16px; 
  line-height:1.6;
  background:var(--bg-gradient); 
  background-attachment:fixed;
    border:1px #3b82f6;

  min-height:100vh; 
  display:block; 
  padding:20px; 
  position:relative;
   overflow:hidden;
  --header-h:72px;
}
:host::before{content:'';position:fixed;inset:-50%;
  background:
    radial-gradient(circle at 30% 20%, rgba(66,133,244,.1) 0%, transparent 35%),
    radial-gradient(circle at 70% 80%, rgba(16,185,129,.08) 0%, transparent 35%),
    radial-gradient(circle at 20% 70%, rgba(66,133,244,.05) 0%, transparent 40%);
  animation:backgroundMove 20s ease-in-out infinite; z-index:-2;}
:host::after{content:'';position:fixed;inset:0;background:var(--hero-overlay);z-index:-1;}
@keyframes backgroundMove{0%,100%{transform:translate(0) rotate(0) scale(1)}25%{transform:translate(-5%,-10%) rotate(1deg) scale(1.05)}50%{transform:translate(10%,5%) rotate(-1deg) scale(.95)}75%{transform:translate(-8%,8%) rotate(.5deg) scale(1.02)}}

/* ===== Layout ===== */
.auth-wrapper{min-height:calc(100svh - var(--header-h));
  display:grid;place-items:center;padding:20px;}
.auth-wrapper:not(.with-header){min-height:100svh;
}
.container{width:100%;max-width:720px;}
.auth-card{
  background:rgba(255,255,255,.98);
  border-radius:24px;
  padding:2rem 1.5rem;
  box-shadow:var(--shadow-xl);
  backdrop-filter:blur(20px);
  border: 2px solid rgba(5, 121, 187, 0.8);
  width:100%;
  max-width:520px;
  margin-inline:auto;
  position:relative; overflow:hidden; animation:slideInUp .6s cubic-bezier(.16,1,.3,1);
}
.auth-card::before{content:'';position:absolute;left:0;right:0;top:0;height:3px;
  background:linear-gradient(90deg,var(--primary) 0%,var(--primary-light) 100%);}

/* ===== Titres ===== */
.auth-left h1{font-size:2rem;font-weight:700;margin:0 0 .5rem;color:#3b82f6;text-align:center;letter-spacing:-.025em;}
.auth-left>.muted{margin-bottom:1.25rem;}

/* ===== Form & fields ===== */
form{position:relative;z-index:1;}
.field{display:block;margin-bottom:1.5rem;position:relative;}
.field span{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text);font-size:.95rem;}
.field input{
  width:100%;padding:14px 7px;border:1px solid #b9c6d5;border-radius:var(--border-radius);
  font-size:1rem;background:#fff;color:var(--text);outline:none;transition:var(--transition);
}
.field input:hover{border-color:#94a3b8;box-shadow:var(--shadow-sm);}
.field input:focus{border-color:var(--primary);box-shadow:0 0 0 2px rgba(66,133,244,.15),var(--shadow-blue);transform:translateY(-1px);}
.field input::placeholder{color:var(--text-muted);}
.field input.ng-valid.ng-touched{border-color:var(--success);}
.field input.ng-invalid.ng-touched{border-color:rgba(164, 3, 3, 0.592);}
.field input.ng-invalid.ng-touched:focus{box-shadow:0 0 0 2px rgba(164, 3, 3, 0.592);}

/* Password + toggle */
.password-wrap{position:relative;}
.password-wrap input{padding-right:40px;}
.toggle{
  position:absolute;inset:0 8px 0 auto;width:36px;height:100%;
  display:grid;place-items:center;border:0;background:transparent;cursor:pointer;
  font-size:18px;line-height:1;color:var(--text-light);transition:var(--transition);
}
.toggle:hover{transform:scale(1.05);color:var(--primary-dark);}

/* ===== Rôles (chips radio) ===== */
.roles{display:flex;flex-wrap:wrap;gap:.5rem;}
.chip{
  display:inline-flex;align-items:center;gap:.5rem;
  padding:.5rem .85rem;border-radius:999px;
  border:1px solid #d1e6fb;background:#fff;cursor:pointer;user-select:none;
  transition:var(--transition);position:relative;
}
/* cacher l'input natif & enlever la puce */
.chip input[type="radio"]{position:absolute;opacity:0;pointer-events:none;width:0;height:0;margin:0;}
.chip::before{display:none;}
/* état sélectionné (piloté par [class.selected]) */
.chip.selected{
  background:#eaf3ff;border-color:#93c5fd;color:#1d4ed8;
  box-shadow:0 0 0 2px rgba(147,197,253,.35);
}
.chip:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm);}

/* Messages */
.error{color:var(--error);font-size:.85rem;margin-top:.35rem;display:inline-block;}
.server-error{background:#fef2f2;color:var(--error);padding:12px 16px;border-radius:var(--border-radius);border:1px solid #fecaca;margin:1rem 0;display:flex;align-items:center;gap:8px;animation:slideInError .3s ease-out;}
.server-error::before{content:'⚠';}
@keyframes slideInError{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}

/* Boutons & liens */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 14px 28px;
  border: none;
  border-radius: var(--border-radius);
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  font-size: 1rem;
  width: 100%;
  margin-bottom: 1.75rem;
  font-family: inherit;
}
.btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: var(--transition-slow);
  z-index: -1;
}

.btn:hover:not(:disabled)::before { width: 300px; height: 300px; }

.btn-primary {
  background: var(--primary);
  color: var(--white);
  box-shadow: var(--shadow-blue);
}

.btn-primary:hover:not(:disabled) {
  background: hsla(217, 82%, 46%, 0.655);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px -5px ;
}
.btn:disabled{opacity:.6;cursor:not-allowed;}
.btn.full{width:100%;}
.link{color:var(--primary);text-decoration:none;font-weight:500;}
.link:hover{color:var(--primary-dark);text-decoration:underline;}

.muted{color:var(--text-light);}
.muted.center{text-align:center;}
.small{font-size:.9rem;}
.muted a {
  color: #1a73e8;
  text-decoration: none;
  font-weight: 600;
  position: relative;
  transition: var(--transition);
}


.muted a::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--primary);
  transition: var(--transition);
}

.muted a:hover::after { width: 100%; }
.muted a:hover { color: #023679; }
/* Footer */
.footer{margin-top:16px;}
.footer-inner{display:flex;justify-content:center;padding:8px 0 16px;}

/* Animations utilitaires */
@keyframes slideInUp{from{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}

/* Responsive */
@media (max-width:480px){
  .auth-card{padding:1.75rem 1.25rem;max-width:100%;}
  .auth-left h1{font-size:1.75rem;}
}

/* Accessibilité */
@media (prefers-reduced-motion:reduce){
  *,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;}
}
.btn:focus-visible,.field input:focus-visible,.toggle:focus-visible,.link:focus-visible,.chip:focus-visible{outline:2px solid var(--primary);outline-offset:2px;}
::selection{background:rgba(66,133,244,.15);color:var(--text);}
